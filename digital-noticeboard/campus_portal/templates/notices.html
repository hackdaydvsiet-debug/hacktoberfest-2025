{% extends "base.html" %}
{% block content %}
  <!-- Page Background -->
  <div class="relative min-h-screen bg-fixed bg-center bg-cover" style="background-image: url('https://images.unsplash.com/photo-1616946596046-ff15289b8e42?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fG5vdGljZSUyMGJvYXJkfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=800');">
    <div class="absolute inset-0 bg-black/50"></div>

    <div class="relative z-10 p-6 md:p-10">
      <!-- Header -->
      <div class="text-center mb-8 text-white">
        <h2 class="text-3xl font-bold mb-2">ðŸ“¢ Notices & Announcements</h2>
        <p class="text-lg text-slate-200">Stay updated with the latest campus news, events, and important updates.</p>
      </div>

      <!-- Admin Add Button -->
      {% if session.get('role') == 'admin' %}
        <div class="text-center mb-6">
          <a href="{{ url_for('add_notice') }}" class="bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded shadow">
            + Add Notice
          </a>
        </div>
      {% endif %}

      <!-- Notices Section -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for n in notices %}
          <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition">
            {% if n.image %}
              <img src="/{{ n.image }}" alt="{{ n.title }}" class="w-full h-48 object-cover">
            {% else %}
              <img src="https://images.unsplash.com/photo-1741636174602-252cd7bb233c?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fG5vdGljZSUyMGJvYXJkfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=800" alt="Notice" class="w-full h-48 object-cover">
            {% endif %}
            <div class="p-5">
              <h3 class="text-xl font-semibold text-sky-700 mb-2">{{ n.title }}</h3>
              <p class="text-gray-700 mb-3">{{ n.content }}</p>
              <p class="text-sm text-gray-500">{{ n.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
            </div>
          </div>
        {% else %}
          <p class="text-slate-200 text-center col-span-full">No notices yet.</p>
        {% endfor %}
      </div>

      <!-- Info Section -->
      <section class="mt-12 bg-white/90 rounded-xl shadow-lg p-8 text-center backdrop-blur">
        <h3 class="text-2xl font-bold text-sky-700 mb-3">Stay Connected</h3>
        <p class="text-gray-700 mb-4">
          Check this page regularly to stay informed about campus activities, deadlines, and announcements.
        </p>
        <img src="https://plus.unsplash.com/premium_photo-1664297854029-21ebd7e03b24?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fG5vdGljZSUyMGJvYXJkfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=800`" alt="Notice Board" class="mx-auto rounded-lg shadow max-w-md">
      </section>
    </div>
  </div>
{% endblock %}
